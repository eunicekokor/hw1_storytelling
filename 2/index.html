<html>

<head>
  <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
</head>

<body>
  <div class="container">
    <h2>What the Weather? - NYC</h2>

<ul id="list2"></ul>
  </div>
<script>
  $('#information').hide();
  $('#moreinfo').click($('#information').show());


  var ws2 = new WebSocket("ws://localhost:8000/")
  ws2.onmessage = function(e) {

    var data = JSON.parse(e.data);
    console.log(data);
    d3.select("#list2").selectAll("li").remove();
    d3.select("#list2").selectAll("h1").remove();
    if (data.exciting){
      d3.select('#list2').insert('h1', ':first-child').text("!Exciting weather!")
      d3.select('#list2')
      .insert('li', ":first-child")
      .text(data.tweet)
      d3.select('html').attr("background-color","red")
    } else {
      d3.select('#list2')
      .insert('li', ":first-child")
      .text(data.tweet)
  };
    }
</script>
</body>

<style>
html {
  font-family: Raleway;
  background: coral;

}
</style>

</html>
